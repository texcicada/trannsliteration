% Compile with xelatex for conjuncts/ligatures
\documentclass{article}
\usepackage{xcolor}
\usepackage{fontspec}
%\usepackage{xparse}
\setmainfont{Noto Serif}

\newfontfamily\ugfont{Noto Sans Ugaritic}[Colour=blue,Scale=1.5]
\newfontfamily\ugfontb{Noto Sans Ugaritic}



%\input{metacsinput.tex}%helper macros for meta-commands

%----- Named macros
\newcommand\ugalpa{\symbol{66432}}
\newcommand\ugbeta{\symbol{66433}}
\newcommand\uggamla{\symbol{66434}}
\newcommand\ugkha{\symbol{66435}}
\newcommand\ugdelta{\symbol{66436}}
\newcommand\ugho{\symbol{66437}}
\newcommand\ugwo{\symbol{66438}}
\newcommand\ugzeta{\symbol{66439}}
\newcommand\ughota{\symbol{66440}}
\newcommand\ugtet{\symbol{66441}}
\newcommand\ugyod{\symbol{66442}}
\newcommand\ugkaf{\symbol{66443}}
\newcommand\ugshin{\symbol{66444}}
\newcommand\uglamda{\symbol{66445}}
\newcommand\ugmem{\symbol{66446}}
\newcommand\ugdhal{\symbol{66447}}
\newcommand\ugnun{\symbol{66448}}
\newcommand\ugzu{\symbol{66449}}
\newcommand\ugsamka{\symbol{66450}}
\newcommand\ugain{\symbol{66451}}
\newcommand\ugpu{\symbol{66452}}
\newcommand\ugsade{\symbol{66453}}
\newcommand\ugqopa{\symbol{66454}}
\newcommand\ugrasha{\symbol{66455}}
\newcommand\ugthanna{\symbol{66456}}
\newcommand\ugghain{\symbol{66457}}
\newcommand\ugto{\symbol{66458}}
\newcommand\ugletteri{\symbol{66459}}
\newcommand\ugletteru{\symbol{66460}}
\newcommand\ugletterssu{\symbol{66461}}
\newcommand\ugworddivider{\symbol{66463}}

% letter names
\newcommand\uga{\symbol{66432}}
\newcommand\ugb{\symbol{66433}}
\newcommand\ugg{\symbol{66434}}
\newcommand\ugkh{\symbol{66435}}
\newcommand\ugd{\symbol{66436}}
\newcommand\ugh{\symbol{66437}}
\newcommand\ugw{\symbol{66438}}
\newcommand\ugz{\symbol{66439}}
\newcommand\ughh{\symbol{66440}}
\newcommand\ugt{\symbol{66441}}
\newcommand\ugy{\symbol{66442}}
\newcommand\ugk{\symbol{66443}}
\newcommand\ugsh{\symbol{66444}}
\newcommand\ugl{\symbol{66445}}
\newcommand\ugm{\symbol{66446}}
\newcommand\ugdh{\symbol{66447}}
\newcommand\ugn{\symbol{66448}}
\newcommand\ugzz{\symbol{66449}}
\newcommand\ugss{\symbol{66450}}
\newcommand\ugj{\symbol{66451}}
\newcommand\ugp{\symbol{66452}}
\newcommand\ugs{\symbol{66453}}
\newcommand\ugq{\symbol{66454}}
\newcommand\ugr{\symbol{66455}}
\newcommand\ugth{\symbol{66456}}
\newcommand\uggh{\symbol{66457}}
\newcommand\ugtt{\symbol{66458}}
\newcommand\ugi{\symbol{66459}}
\newcommand\ugu{\symbol{66460}}
\newcommand\ugssu{\symbol{66461}}
\newcommand\ugdiv{\symbol{66463}}


%Coverage of Ugaritic by Noto Sans Ugaritic
%U+10380	êéÄ	UGARITIC LETTER ALPA	YES
%U+10381	êéÅ	UGARITIC LETTER BETA	YES
%U+10382	êéÇ	UGARITIC LETTER GAMLA	YES
%U+10383	êéÉ	UGARITIC LETTER KHA	YES
%U+10384	êéÑ	UGARITIC LETTER DELTA	YES
%U+10385	êéÖ	UGARITIC LETTER HO	YES
%U+10386	êéÜ	UGARITIC LETTER WO	YES
%U+10387	êéá	UGARITIC LETTER ZETA	YES
%U+10388	êéà	UGARITIC LETTER HOTA	YES
%U+10389	êéâ	UGARITIC LETTER TET	YES
%U+1038A	êéä	UGARITIC LETTER YOD	YES
%U+1038B	êéã	UGARITIC LETTER KAF	YES
%U+1038C	êéå	UGARITIC LETTER SHIN	YES
%U+1038D	êéç	UGARITIC LETTER LAMDA	YES
%U+1038E	êéé	UGARITIC LETTER MEM	YES
%U+1038F	êéè	UGARITIC LETTER DHAL	YES
%U+10390	êéê	UGARITIC LETTER NUN	YES
%U+10391	êéë	UGARITIC LETTER ZU	YES
%U+10392	êéí	UGARITIC LETTER SAMKA	YES
%U+10393	êéì	UGARITIC LETTER AIN	YES
%U+10394	êéî	UGARITIC LETTER PU	YES
%U+10395	êéï	UGARITIC LETTER SADE	YES
%U+10396	êéñ	UGARITIC LETTER QOPA	YES
%U+10397	êéó	UGARITIC LETTER RASHA	YES
%U+10398	êéò	UGARITIC LETTER THANNA	YES
%U+10399	êéô	UGARITIC LETTER GHAIN	YES
%U+1039A	êéö	UGARITIC LETTER TO	YES
%U+1039B	êéõ	UGARITIC LETTER I	YES
%U+1039C	êéú	UGARITIC LETTER U	YES
%U+1039D	êéù	UGARITIC LETTER SSU	YES
%U+1039F	êéü	UGARITIC WORD DIVIDER	YES



\ExplSyntaxOn


%--------------- Ugaritic
\newcommand\dougaritictrans{%


% Unicode codepoints

\regex_replace_all:nnN { U\+10380 } { \c{symbol} \cB\{ 66432\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10381 } { \c{symbol} \cB\{ 66433\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10382 } { \c{symbol} \cB\{ 66434\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10383 } { \c{symbol} \cB\{ 66435\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10384 } { \c{symbol} \cB\{ 66436\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10385 } { \c{symbol} \cB\{ 66437\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10386 } { \c{symbol} \cB\{ 66438\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10387 } { \c{symbol} \cB\{ 66439\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10388 } { \c{symbol} \cB\{ 66440\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10389 } { \c{symbol} \cB\{ 66441\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1038A } { \c{symbol} \cB\{ 66442\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1038B } { \c{symbol} \cB\{ 66443\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1038C } { \c{symbol} \cB\{ 66444\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1038D } { \c{symbol} \cB\{ 66445\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1038E } { \c{symbol} \cB\{ 66446\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1038F } { \c{symbol} \cB\{ 66447\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10390 } { \c{symbol} \cB\{ 66448\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10391 } { \c{symbol} \cB\{ 66449\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10392 } { \c{symbol} \cB\{ 66450\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10393 } { \c{symbol} \cB\{ 66451\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10394 } { \c{symbol} \cB\{ 66452\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10395 } { \c{symbol} \cB\{ 66453\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10396 } { \c{symbol} \cB\{ 66454\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10397 } { \c{symbol} \cB\{ 66455\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10398 } { \c{symbol} \cB\{ 66456\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+10399 } { \c{symbol} \cB\{ 66457\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1039A } { \c{symbol} \cB\{ 66458\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1039B } { \c{symbol} \cB\{ 66459\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1039C } { \c{symbol} \cB\{ 66460\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1039D } { \c{symbol} \cB\{ 66461\cE\}  } \l_myug_tl
\regex_replace_all:nnN { U\+1039F } { \c{symbol} \cB\{ 66463\cE\}  } \l_myug_tl

%Unicode-based names
% longest strings first, so regex replacement happens in right order
\regex_replace_all:nnN { worddivider\. } { \c{symbol} \cB\{ 66463\cE\}  } \l_myug_tl
\regex_replace_all:nnN { letterssu\. } { \c{symbol} \cB\{ 66461\cE\}  } \l_myug_tl
\regex_replace_all:nnN { letteri\. } { \c{symbol} \cB\{ 66459\cE\}  } \l_myug_tl
\regex_replace_all:nnN { letteru\. } { \c{symbol} \cB\{ 66460\cE\}  } \l_myug_tl
\regex_replace_all:nnN { thanna\. } { \c{symbol} \cB\{ 66456\cE\}  } \l_myug_tl
\regex_replace_all:nnN { gamla\. } { \c{symbol} \cB\{ 66434\cE\}  } \l_myug_tl
\regex_replace_all:nnN { delta\. } { \c{symbol} \cB\{ 66436\cE\}  } \l_myug_tl
\regex_replace_all:nnN { lamda\. } { \c{symbol} \cB\{ 66445\cE\}  } \l_myug_tl
\regex_replace_all:nnN { samka\. } { \c{symbol} \cB\{ 66450\cE\}  } \l_myug_tl
\regex_replace_all:nnN { rasha\. } { \c{symbol} \cB\{ 66455\cE\}  } \l_myug_tl
\regex_replace_all:nnN { ghain\. } { \c{symbol} \cB\{ 66457\cE\}  } \l_myug_tl
\regex_replace_all:nnN { alpa\. } { \c{symbol} \cB\{ 66432\cE\}  } \l_myug_tl
\regex_replace_all:nnN { beta\. } { \c{symbol} \cB\{ 66433\cE\}  } \l_myug_tl
\regex_replace_all:nnN { zeta\. } { \c{symbol} \cB\{ 66439\cE\}  } \l_myug_tl
\regex_replace_all:nnN { hota\. } { \c{symbol} \cB\{ 66440\cE\}  } \l_myug_tl
\regex_replace_all:nnN { shin\. } { \c{symbol} \cB\{ 66444\cE\}  } \l_myug_tl
\regex_replace_all:nnN { dhal\. } { \c{symbol} \cB\{ 66447\cE\}  } \l_myug_tl
\regex_replace_all:nnN { sade\. } { \c{symbol} \cB\{ 66453\cE\}  } \l_myug_tl
\regex_replace_all:nnN { qopa\. } { \c{symbol} \cB\{ 66454\cE\}  } \l_myug_tl
\regex_replace_all:nnN { kha\. } { \c{symbol} \cB\{ 66435\cE\}  } \l_myug_tl
\regex_replace_all:nnN { tet\. } { \c{symbol} \cB\{ 66441\cE\}  } \l_myug_tl
\regex_replace_all:nnN { yod\. } { \c{symbol} \cB\{ 66442\cE\}  } \l_myug_tl
\regex_replace_all:nnN { kaf\. } { \c{symbol} \cB\{ 66443\cE\}  } \l_myug_tl
\regex_replace_all:nnN { mem\. } { \c{symbol} \cB\{ 66446\cE\}  } \l_myug_tl
\regex_replace_all:nnN { nun\. } { \c{symbol} \cB\{ 66448\cE\}  } \l_myug_tl
\regex_replace_all:nnN { ain\. } { \c{symbol} \cB\{ 66451\cE\}  } \l_myug_tl
\regex_replace_all:nnN { ho\. } { \c{symbol} \cB\{ 66437\cE\}  } \l_myug_tl
\regex_replace_all:nnN { wo\. } { \c{symbol} \cB\{ 66438\cE\}  } \l_myug_tl
\regex_replace_all:nnN { zu\. } { \c{symbol} \cB\{ 66449\cE\}  } \l_myug_tl
\regex_replace_all:nnN { pu\. } { \c{symbol} \cB\{ 66452\cE\}  } \l_myug_tl
\regex_replace_all:nnN { to\. } { \c{symbol} \cB\{ 66458\cE\}  } \l_myug_tl

%
\regex_replace_all:nnN { ssu\. } { \c{symbol} \cB\{ 66461\cE\}  } \l_myug_tl
\regex_replace_all:nnN { div\. } { \c{symbol} \cB\{ 66463\cE\}  } \l_myug_tl
\regex_replace_all:nnN { kh\. } { \c{symbol} \cB\{ 66435\cE\}  } \l_myug_tl
\regex_replace_all:nnN { hh\. } { \c{symbol} \cB\{ 66440\cE\}  } \l_myug_tl
\regex_replace_all:nnN { sh\. } { \c{symbol} \cB\{ 66444\cE\}  } \l_myug_tl
\regex_replace_all:nnN { dh\. } { \c{symbol} \cB\{ 66447\cE\}  } \l_myug_tl
\regex_replace_all:nnN { zz\. } { \c{symbol} \cB\{ 66449\cE\}  } \l_myug_tl
\regex_replace_all:nnN { ss\. } { \c{symbol} \cB\{ 66450\cE\}  } \l_myug_tl
\regex_replace_all:nnN { th\. } { \c{symbol} \cB\{ 66456\cE\}  } \l_myug_tl
\regex_replace_all:nnN { gh\. } { \c{symbol} \cB\{ 66457\cE\}  } \l_myug_tl
\regex_replace_all:nnN { tt\. } { \c{symbol} \cB\{ 66458\cE\}  } \l_myug_tl
\regex_replace_all:nnN { a\. } { \c{symbol} \cB\{ 66432\cE\}  } \l_myug_tl
\regex_replace_all:nnN { b\. } { \c{symbol} \cB\{ 66433\cE\}  } \l_myug_tl
\regex_replace_all:nnN { g\. } { \c{symbol} \cB\{ 66434\cE\}  } \l_myug_tl
\regex_replace_all:nnN { d\. } { \c{symbol} \cB\{ 66436\cE\}  } \l_myug_tl
\regex_replace_all:nnN { h\. } { \c{symbol} \cB\{ 66437\cE\}  } \l_myug_tl
\regex_replace_all:nnN { w\. } { \c{symbol} \cB\{ 66438\cE\}  } \l_myug_tl
\regex_replace_all:nnN { z\. } { \c{symbol} \cB\{ 66439\cE\}  } \l_myug_tl
\regex_replace_all:nnN { t\. } { \c{symbol} \cB\{ 66441\cE\}  } \l_myug_tl
\regex_replace_all:nnN { y\. } { \c{symbol} \cB\{ 66442\cE\}  } \l_myug_tl
\regex_replace_all:nnN { k\. } { \c{symbol} \cB\{ 66443\cE\}  } \l_myug_tl
\regex_replace_all:nnN { l\. } { \c{symbol} \cB\{ 66445\cE\}  } \l_myug_tl
\regex_replace_all:nnN { m\. } { \c{symbol} \cB\{ 66446\cE\}  } \l_myug_tl
\regex_replace_all:nnN { n\. } { \c{symbol} \cB\{ 66448\cE\}  } \l_myug_tl
\regex_replace_all:nnN { '\. } { \c{symbol} \cB\{ 66451\cE\}  } \l_myug_tl
\regex_replace_all:nnN { p\. } { \c{symbol} \cB\{ 66452\cE\}  } \l_myug_tl
\regex_replace_all:nnN { s\. } { \c{symbol} \cB\{ 66453\cE\}  } \l_myug_tl
\regex_replace_all:nnN { q\. } { \c{symbol} \cB\{ 66454\cE\}  } \l_myug_tl
\regex_replace_all:nnN { r\. } { \c{symbol} \cB\{ 66455\cE\}  } \l_myug_tl
\regex_replace_all:nnN { i\. } { \c{symbol} \cB\{ 66459\cE\}  } \l_myug_tl
\regex_replace_all:nnN { u\. } { \c{symbol} \cB\{ 66460\cE\}  } \l_myug_tl



% handy shortcuts
%


}
% from ugaritic to trans

\newcommand\dougaritictransrev{%
\regex_replace_all:nnN { êéÄ } { a\. } \l_myug_tl
\regex_replace_all:nnN { êéÅ } { b\. } \l_myug_tl
\regex_replace_all:nnN { êéÇ } { g\. } \l_myug_tl
\regex_replace_all:nnN { êéÉ } { kh\. } \l_myug_tl
\regex_replace_all:nnN { êéÑ } { d\. } \l_myug_tl
\regex_replace_all:nnN { êéÖ } { h\. } \l_myug_tl
\regex_replace_all:nnN { êéÜ } { w\. } \l_myug_tl
\regex_replace_all:nnN { êéá } { z\. } \l_myug_tl
\regex_replace_all:nnN { êéà } { hh\. } \l_myug_tl
\regex_replace_all:nnN { êéâ } { t\. } \l_myug_tl
\regex_replace_all:nnN { êéä } { y\. } \l_myug_tl
\regex_replace_all:nnN { êéã } { k\. } \l_myug_tl
\regex_replace_all:nnN { êéå } { sh\. } \l_myug_tl
\regex_replace_all:nnN { êéç } { l\. } \l_myug_tl
\regex_replace_all:nnN { êéé } { m\. } \l_myug_tl
\regex_replace_all:nnN { êéè } { dh\. } \l_myug_tl
\regex_replace_all:nnN { êéê } { n\. } \l_myug_tl
\regex_replace_all:nnN { êéë } { zz\. } \l_myug_tl
\regex_replace_all:nnN { êéí } { ss\. } \l_myug_tl
\regex_replace_all:nnN { êéì } { '\. } \l_myug_tl
\regex_replace_all:nnN { êéî } { p\. } \l_myug_tl
\regex_replace_all:nnN { êéï } { s\. } \l_myug_tl
\regex_replace_all:nnN { êéñ } { q\. } \l_myug_tl
\regex_replace_all:nnN { êéó } { r\. } \l_myug_tl
\regex_replace_all:nnN { êéò } { th\. } \l_myug_tl
\regex_replace_all:nnN { êéô } { gh\. } \l_myug_tl
\regex_replace_all:nnN { êéö } { tt\. } \l_myug_tl
\regex_replace_all:nnN { êéõ } { i\. } \l_myug_tl
\regex_replace_all:nnN { êéú } { u\. } \l_myug_tl
\regex_replace_all:nnN { êéù } { ssu\. } \l_myug_tl
\regex_replace_all:nnN { êéü } { div\. } \l_myug_tl

}


%=================
\str_new:N \l_myug_str

\NewDocumentCommand { \ugtrans } { m } {%
\tl_set:Nn \l_myug_tl { #1 }
 \dougaritictrans 
{ \ugfont \tl_use:N \l_myug_tl }
}

\NewDocumentEnvironment{ugtranse}{ +b } 
{
\tl_set:Nn \l_myug_tl { #1 }
	\dougaritictrans
{ \ugfont \tl_use:N \l_myug_tl }
}
{ }

%-----
\NewDocumentCommand { \ugtransrev } { m } {%
\tl_set:Nn \l_myug_tl { #1 }
 \dougaritictransrev 
{ \tl_use:N \l_myug_tl }
}

\NewDocumentEnvironment{ugtranserev}{ +b } 
{
\tl_set:Nn \l_myug_tl { #1 }
	\dougaritictransrev
{ \tl_use:N \l_myug_tl }
}
{ }



\ExplSyntaxOff



%-----------------------------------------
%subset of helper meta-commands:
\ExplSyntaxOn
%cs: print the command name
%cdr: print and run the comman
%cdpr: print with formatted argument and run
%codedetok: print (unemphasized)

%------------------------------- control sequence
\NewDocumentCommand{\cs}{ m }{%
  {\bfseries\sffamily\color{blue}
  \token_to_str:N #1 % If you already have a token
  }
}%
%------------------------------- print and run #1

\NewDocumentCommand{\cdr}{ m }{%
	\tl_set:Nn \l_my_tl { #1 }
	{ \ttfamily\color{blue}
%  \token_to_str:N #1
  \detokenize{#1}
  }
  
  \enspace $\mapsto$ \enspace
  
  \tl_use:N \l_my_tl
}%


%------------------------------- print and run command+argumentt separately
\NewDocumentCommand{\cdpr}{ o m m }{%1=format,2=command,3=argument
	\tl_set:Nn \l_my_tl { #1 }
	\tl_set:Nn \l_myb_tl { #2 }
	\tl_set:Nn \l_myc_tl { #3 }
	{ \ttfamily\color{blue}
%  \token_to_str:N #1
  \textbackslash \detokenize{#2} % command
  \{ 
  		{
  		\tl_use:N \l_my_tl % formatting
  		\detokenize{#3}       % argument
  		}
  \}
  }
  
  \enspace $\mapsto$ \enspace
  
\cs:w \tl_use:N \l_myb_tl \cs_end: {  
									#3 % argument
									 }
}%
%------------------------------- just print #1 as plain detok code
\NewDocumentCommand{\codedetok}{ o m }{
 
			{%true 
			    {
						\ttfamily
					  															\detokenize{#2}
						}
			  }
}%


\NewDocumentCommand\mapruby{ m } {%
{
\setlength{\tabcolsep}{-0.5pt} 
\begin{tabular}[b]{c}
{\scriptsize\ugtransrev{#1}} \\
\ugfont #1 \\
\end{tabular} 
}}


\NewDocumentCommand\maprubyw{ m } {%
{
\setlength{\tabcolsep}{-0.5pt} 
\begin{tabular}[b]{c}
{\scriptsize\ugtransrev{#1}} \\
\ugfont #1 \\
\end{tabular} {\ugfontb\ugdiv}
}}


%\seq_new:N \l_ruby_seq
\NewDocumentCommand{\ugruby}{ > { \SplitList { ; } } m }{%
  \ProcessList {#1 } { \mapruby }
%%	\tl_set:Nn \l_my_tl { #1 }
%%	\seq_set_split:Nnn 
%%								\l_ruby_seq 
%%								{ ; } 
%%								{ \l_my_tl }
%%{\ugfont		\seq_use:Nnnn
%%								\l_ruby_seq {;}{}{}
%%								}
%%%	\seq_map_function:NN 
%%%								\l_ruby_seq  
%%%								\mapruby
%%	\seq_map_inline:Nn 
%%								\l_ruby_seq  
%%								{ \mapruby{#1} }
%%%\tl_use:N \l_my_tl
%%%\ugtransrev{}
}

\NewDocumentCommand{\ugrubyw}{ > { \SplitList { ~ } } m }{%
  \ProcessList {#1 } { \maprubyw }
}


\ExplSyntaxOff





%===================================
\begin{document}
\noindent{\large \ugtrans{u.g.r.tt.}\\ Ugaritic script, using \textsc{ASCII} transliteration input method}

\bigskip
(1) Named macros (use with \cs{\ugfont})

\cdr{{\ugfont\ugk\ugt}}

\cdr{{\ugfont\ugk\ugu\ugl\ugb\ugn\ugn}}


\bigskip
(2a) Command \cs{\ugtrans} (assumes \cs{\ugfont} is defined)

\cdr{\ugtrans{k.t.}}

\cdr{\ugtrans{k.u.l.b.n.n.}}

(2b) Environment \cs{ugtranse} (assumes \cs{\ugfont} is defined)

\begin{ugtranse}
k.t. 

k.u.l.b.n.n.

d.l.tt.
\end{ugtranse}

%Examples

\bigskip
Unicode

\cdr{\ugtrans{U+1038BU+10389}}

\bigskip
Reverse transliteration

(3a) Command version

\cdpr[\ugfont]{ugtransrev}{êéÑêéçêéö}

(3b) Environment version,
with \codedetok{\begin{ugtranserev} ... \end{ugtranserev}}

\begin{ugtranserev}
êéÑêéçêéö

êéÑêéçêéö êéúêéÇêéóêéö
\end{ugtranserev}

{
\setlength{\tabcolsep}{-0.5pt} 
\begin{tabular}{c}
?u \\
\ugfont êéú \\
\end{tabular}
\begin{tabular}{c}
g \\
\ugfont êéÇ \\
\end{tabular}
\begin{tabular}{c}
r \\
\ugfont êéó \\
\end{tabular}
\begin{tabular}{c}
t \\
\ugfont êéö \\
\end{tabular}
}
x
{
\setlength{\tabcolsep}{-0.5pt} 
\begin{tabular}{c}
\ugtransrev{êéú} \\
\ugfont êéú \\
\end{tabular}
\begin{tabular}{c}
\ugtransrev{êéÇ} \\
\ugfont êéÇ \\
\end{tabular}
\begin{tabular}{c}
\ugtransrev{êéó} \\
\ugfont êéó \\
\end{tabular}
\begin{tabular}{c}
\ugtransrev{êéö} \\
\ugfont êéö \\
\end{tabular}
}

In \ugruby{êéú;êéÇ;êéó;êéö}, the \ugruby{êéÑ;êéç;êéö} or royal guard post, ...

The \ugrubyw{êéÑêéçêéö êéúêéÇêéóêéö} was ...

\end{document}

êéúêéÇêéóêéö,  ºUgart